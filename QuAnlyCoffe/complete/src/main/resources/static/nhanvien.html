<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Quản lý Nhân viên</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="container mt-4">

    <h1 class="mb-4">Danh sách Nhân viên</h1>

    <!-- Form thêm nhân viên -->
    <form th:action="@{/nhanvien/add}" method="post" class="row g-3 mb-4">
        <div class="col-md-5">
            <input type="text" name="tenNv" class="form-control" placeholder="Tên nhân viên" required>
        </div>
        <div class="col-md-4">
            <input type="text" name="sdt" class="form-control" placeholder="Số điện thoại" required>
        </div>
        <div class="col-md-3">
            <button type="submit" class="btn btn-primary w-100">Thêm mới</button>
        </div>
    </form>

    <!-- Bảng danh sách -->
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>Mã NV</th>
                <th>Tên NV</th>
                <th>SĐT</th>
                <th>Hành động</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="nv : ${nhanvien}">
                <td th:text="${nv.maNv}"></td>
                <td th:text="${nv.tenNv}"></td>
                <td th:text="${nv.sdt}"></td>
                <td>
                    <!-- Form sửa -->
                    <form th:action="@{/nhanvien/edit}" method="post" class="d-inline">
                        <input type="hidden" name="maNv" th:value="${nv.maNv}">
                        <input type="text" name="tenNv" th:value="${nv.tenNv}" required>
                        <input type="text" name="sdt" th:value="${nv.sdt}" required>
                        <button type="submit" class="btn btn-warning btn-sm">Sửa</button>
                    </form>

                    <!-- Form xóa -->
                    <form th:action="@{/nhanvien/delete}" method="post" class="d-inline">
                        <input type="hidden" name="maNv" th:value="${nv.maNv}">
                        <button type="submit" class="btn btn-danger btn-sm"
                                onclick="return confirm('Bạn có chắc muốn xóa nhân viên này?');">
                            Xóa
                        </button>
                    </form>
                </td>
            </tr>
        </tbody>
    </table>

</body>
</html>
